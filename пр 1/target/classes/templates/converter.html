<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <nav class="navbar">
        <a th:href="@{/calculator}" class="nav-link">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a>
        <a th:href="@{/converter}" class="nav-link active">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</a>
    </nav>

    <div class="container">
        <div class="card">
            <h1 class="title">üí± –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</h1>
            
            <form method="post" th:action="@{/converter}" class="form">
                <div class="input-group">
                    <label for="amount">–°—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö (‚ÇΩ)</label>
                    <input type="number" id="amount" name="amount" step="0.01" min="0"
                           th:value="${amount}" required placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É">
                </div>
                
                <div class="input-group">
                    <label for="currency">–í–∞–ª—é—Ç–∞ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏</label>
                    <select id="currency" name="currency" required>
                        <option th:each="entry : ${currencies}" 
                                th:value="${entry.key}" 
                                th:text="${entry.key + ' - ' + entry.value}"
                                th:selected="${entry.key == selectedCurrency}">
                        </option>
                    </select>
                </div>
                
                <button type="submit" class="btn">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            </form>
            
            <div th:if="${result != null}" class="result success">
                <div class="conversion-details">
                    <span class="result-label">
                        <span th:text="${#numbers.formatDecimal(amount, 1, 2)}"></span> ‚ÇΩ = 
                    </span>
                    <span class="result-value" th:text="${#numbers.formatDecimal(result, 1, 2)}"></span>
                    <span class="currency-code" th:text="${selectedCurrency}"></span>
                </div>
                <div class="rate-info">
                    <small>–ö—É—Ä—Å: 1 <span th:text="${selectedCurrency}"></span> = <span th:text="${rate}"></span> ‚ÇΩ</small>
                </div>
            </div>
            
            <div th:if="${error != null}" class="result error">
                <span th:text="${error}"></span>
            </div>
            
            <div class="rates-table">
                <h3>–¢–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã:</h3>
                <table>
                    <tr th:each="entry : ${currencies}">
                        <td th:text="${entry.key}"></td>
                        <td th:text="${entry.value}"></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>
</html>

